<nav class="navbar" [class.scrolled]="isScrolled">
  <div class="navbar-container">
    <a class="logo" (click)="setTab('general')" (keydown.enter)="setTab('general')" tabindex="0">
      <img src="rclone.svg" alt="RClone Manager Logo" class="logo-img">
      <span class="logo-text">RClone Manager</span>
    </a>

    <button class="mobile-menu-btn" mat-icon-button (click)="toggleMobileMenu()">
      <mat-icon>{{ isMobileMenuOpen() ? 'close' : 'menu' }}</mat-icon>
    </button>

    <div class="nav-links" [class.open]="isMobileMenuOpen()">
      <!-- Mode Toggle -->
      <button class="mode-toggle" (click)="toggleMode()">
        <span class="toggle-track">
          <span class="toggle-indicator" [class.headless]="modeService.currentMode() === 'headless'">
            <mat-icon>{{ modeService.modeIcon() }}</mat-icon>
          </span>
        </span>
        <span class="toggle-label">{{ modeService.modeLabel() }}</span>
      </button>

      @for (link of navLinks; track link.label) {
      <button mat-button [class.active]="tabService.currentTab() === link.tab"
        (click)="setTab(link.tab); closeMobileMenu()">
        {{ link.label }}
      </button>
      }
      <app-theme-toggle></app-theme-toggle>
    </div>
  </div>
</nav>